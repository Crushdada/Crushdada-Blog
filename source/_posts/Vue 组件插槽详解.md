---
title: Vue 组件插槽详解
tags: Vue
categories: Code
abbrlink: 55927
date: 2021-03-04 00:00:00
---


1. 组件插槽
   > 匿名插槽

默认情况下不能在**子组件标签中**额外**(不是子组件的<template>标签原有的)**添加其他元素的，像是这样 ↓ 默认不行

```xml
<son><div></div></son>
```
<!-- more -->

但是有时候，我们希望能够动态地为组件添加内容--
使用[组件插槽 ](https://cn.vuejs.org/v2/guide/components-slots.html#%E6%8F%92%E6%A7%BD%E5%86%85%E5%AE%B9?fileGuid=9YqKjWk8VKyd6dTg)**：**在**子组件**的`<template>`中添加`<slot>`标签

- 添加插槽后，就可以添加其他元素了
- 当添加其他元素时，Vue 会用这些元素替换掉**整个插槽**
- `<slot>`标签内可以设置**默认数据**，展示插槽**未激活状态：**`<slot>默认数据</slot>`

**注意：**

- 插槽可以指定名称，未指定的称为匿名插槽
- 可以设置**N**个插槽，若都是匿名插槽，则`<son></son>`之间填充的内容会显示**N**个
- 因此，建议只用一个插槽
  > 具名插槽

通过设置`<slot>`的 name 属性定义插槽名，如:

```xml
<slot name="slot-one"></slot>
<slot name="slot-two"></slot>
```

设置插槽名后即可通过--
设置添加的元素的**slot 属性**，**指定添加的内容填充哪个插槽**，如：

```xml
<son><div slot="slot-one"></div></son>
```

**注意：**默认添加的内容不会被填充到具名插槽中，只有为其指定要填充的插槽名才可以。 2. v-slot

在 Vue2.6 后，给出了另一种**为添加的内容指定插槽**的方式--在`<template>`上使用[v-slot 指令](https://cn.vuejs.org/v2/guide/components-slots.html#%E6%8F%92%E6%A7%BD%E5%86%85%E5%AE%B9?fileGuid=9YqKjWk8VKyd6dTg)

**注意：**

- 该指令只能用在`<template>`上
- `v-slot`缩写为`#`

```xml
<template v-slot:插槽名>  //同其他指令，不用加引号
  <div></div>
  <div></div>
</template>
```

相当于用`<template>`将添加的内容包裹，为其中的内容**统一**指定插槽。 3. 作用域插槽

- 默认为子组件额外添加的内容不可以使用**子组件的数据**，可使用作用域插槽。
- 作用域插槽作用是让父组件填充子组件插槽时能够使用子组件的数据
- **应用场景：**当子组件提供数据，父组件决定如何渲染时

如何使用--

1. 在 slot 中通过`v-bind:数据名="数据名"`的形式**暴露数据**给父组件
2. 在父组件中使用`<template slot-scope="自定义的作用域名">`接收数据
3. 在父组件的`<template>添加内容<template>`内通过`作用域名.数据名`的方式调用

或者简单一些--

1. 暴露数据
2. `<template #插槽名="作用域名">`接收数据(用`v-slot`替代`slot-scope`)
3. 调用数据
4. 子组件和父组件的数据同步

实现父子组件方法通信，在父组件实现一个方法，子组件数据变动时，调用该方法，将新数据作为参数传给父组件。父组件就可以为所欲为了。
